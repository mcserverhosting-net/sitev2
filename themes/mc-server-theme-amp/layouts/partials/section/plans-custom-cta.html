<section class="section section-plans-custom-cta"
         style="background-image: url('/images/cta-background.png');"
>
  <div class="overlay display-flex align-items-center">
    <div class="container display-flex flex-direction-column align-items-center justify-content-center">
      <h1 class="font-size-40 font-weight-bold padding-y-32 text-align-center">Need power and flexibility that meets your needs?</h1>
      <p class="color-whisper text-align-center">Let us help you make a tailor made solution to your hosting needs!</p>
      {{ $currentPage := . }}
      {{ range .RegularPages }}
        <button class="snipcart-add-item font-size-16 font-weight-semi-bold background-color-dodger-blue color-white margin-y-32 padding-x-32 padding-y-24 border-radius-8"
          data-item-name="{{ .Params.product.name }}"
          data-item-id="{{ .Params.product.id }}"
          data-item-price="{{ .Params.product.price }}"
          data-item-url="{{ $currentPage.Permalink }}"

          {{ range $i, $e := .Params.product.customFields }}
            data-item-custom{{ add $i 1 }}-name="{{ $e.name }}"
            data-item-custom{{ add $i 1 }}-type="{{ $e.type }}"
            data-item-custom{{ add $i 1 }}-value="{{ $e.value }}"
            data-item-custom{{ add $i 1 }}-options="{{ $e.options }}"
          {{ end }}

          data-item-selected-plan="{{ .Params.product.selectedPlan }}"

          {{ range $i, $e := .Params.product.availablePlans }}
            data-plan{{ add $i 1 }}-id="{{ $e.id }}"
            data-plan{{ add $i 1 }}-name="{{ $e.name }}"
            data-plan{{ add $i 1 }}-frequency="{{ $e.frequency }}"
            data-plan{{ add $i 1 }}-interval="{{ $e.interval }}"
            data-item-plan{{ add $i 1 }}-price="{{ $e.itemPrice }}"
          {{ end }}
        >
          Make a Custom Plan
        </button>
      {{ end }}
    </div>
  </div>
</section>
